import { StyleSheet, Platform } from 'react-native';
import { SIZES, FONTS, SHADOWS } from '../constants/theme';

const getStyles = (COLORS) => StyleSheet.create({
    aiActionRow: {
        flexDirection: 'row',
        paddingHorizontal: SIZES.padding,
        gap: 12,
        marginBottom: SIZES.padding,
    },
    aiButton: {
        flex: 1,
        height: 80,
        borderRadius: 20,
        justifyContent: 'center',
        alignItems: 'center',
        gap: 8,
    },
    aiButtonText: {
        ...FONTS.body5,
        fontWeight: 'bold',
        textTransform: 'uppercase',
    },
    loadingOverlay: {
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(255, 255, 255, 0.8)',
        justifyContent: 'center',
        alignItems: 'center',
        zIndex: 1000,
    },
    loadingText: {
        marginTop: 12,
        ...FONTS.h4,
        color: COLORS.primary,
    },
    aiResultContainer: {
        paddingVertical: 10,
    },
    aiResultBadge: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: COLORS.primary + '10',
        paddingHorizontal: 12,
        paddingVertical: 6,
        borderRadius: 100,
        alignSelf: 'flex-start',
        marginBottom: 16,
        gap: 6,
    },
    aiResultBadgeText: {
        fontSize: 12,
        fontWeight: 'bold',
        color: COLORS.primary,
    },
    aiFoodName: {
        ...FONTS.h2,
        color: COLORS.textHeading,
        marginBottom: 20,
    },
    aiStatsRow: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        marginBottom: 24,
    },
    aiStatItem: {
        alignItems: 'center',
    },
    aiStatValue: {
        ...FONTS.h3,
        color: COLORS.textHeading,
        fontWeight: 'bold',
    },
    aiStatLabel: {
        ...FONTS.body5,
        color: COLORS.textSubtle,
        marginTop: 4,
    },
    aiDisclaimer: {
        ...FONTS.body5,
        color: COLORS.textInactive,
        textAlign: 'center',
        marginBottom: 24,
        fontStyle: 'italic',
    },
    container: {
        flex: 1,
        backgroundColor: COLORS.background,
    },
    header: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        paddingHorizontal: SIZES.padding,
        paddingTop: Platform.OS === 'android' ? 40 : 20,
        paddingBottom: 10,
        backgroundColor: COLORS.surface,
    },
    userSection: {
        flex: 1,
        flexDirection: 'row',
        alignItems: 'center',
    },
    dateNav: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 12,
        marginTop: 2,
    },
    dateArrow: {
        padding: 4,
    },
    welcomeText: {
        ...FONTS.body5,
        color: COLORS.textSubtle,
    },
    userName: {
        ...FONTS.h3,
        color: COLORS.textHeading,
    },
    headerActions: {
        flexDirection: 'row',
        gap: 12,
    },
    iconButton: {
        width: 40,
        height: 40,
        borderRadius: 20,
        backgroundColor: COLORS.surfaceHighlight,
        justifyContent: 'center',
        alignItems: 'center',
    },
    content: {
        flex: 1,
    },
    summaryCard: {
        margin: SIZES.padding,
        padding: SIZES.padding,
        backgroundColor: COLORS.surface,
        borderRadius: 32,
        ...SHADOWS.medium,
    },
    summaryHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'flex-start',
        marginBottom: 20,
    },
    calorieInfo: {
        flex: 1,
    },
    remainingLabel: {
        ...FONTS.body4,
        color: COLORS.textSubtle,
    },
    remainingValue: {
        fontSize: 48,
        fontWeight: '800',
        color: COLORS.textHeading,
        letterSpacing: -1,
    },
    kcalLabel: {
        ...FONTS.body3,
        color: COLORS.textSubtle,
        fontWeight: '600',
    },
    streakBadge: {
        backgroundColor: '#FF9F0A20',
        paddingHorizontal: 8,
        paddingVertical: 2,
        borderRadius: 12,
        borderWidth: 1,
        borderColor: '#FF9F0A40',
    },
    streakText: {
        fontSize: 12,
        fontWeight: '700',
        color: '#FF9F0A',
    },
    progressContainer: {
        height: 12,
        backgroundColor: COLORS.surfaceHighlight,
        borderRadius: 6,
        marginBottom: 24,
        overflow: 'hidden',
    },
    progressBar: {
        height: '100%',
        backgroundColor: COLORS.primary,
        borderRadius: 6,
    },
    macroGrid: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    macroItem: {
        flex: 1,
        alignItems: 'center',
    },
    macroRing: {
        width: 4,
        height: 24,
        borderRadius: 2,
        marginBottom: 8,
    },
    macroValue: {
        ...FONTS.body4,
        fontWeight: '700',
        color: COLORS.textHeading,
    },
    macroLabel: {
        ...FONTS.body5,
        color: COLORS.textSubtle,
    },
    coachCard: {
        marginHorizontal: SIZES.padding,
        marginBottom: SIZES.padding,
        padding: 20,
        backgroundColor: COLORS.primary + '10',
        borderRadius: 24,
        flexDirection: 'row',
        gap: 16,
        borderWidth: 1,
        borderColor: COLORS.primary + '20',
    },
    coachAvatar: {
        width: 48,
        height: 48,
        borderRadius: 24,
        backgroundColor: COLORS.primary,
        justifyContent: 'center',
        alignItems: 'center',
    },
    coachContent: {
        flex: 1,
    },
    coachTitle: {
        ...FONTS.body4,
        fontWeight: '700',
        color: COLORS.primary,
        marginBottom: 4,
    },
    coachText: {
        ...FONTS.body4,
        color: COLORS.textBody,
        lineHeight: 20,
    },
    section: {
        paddingHorizontal: SIZES.padding,
        marginBottom: 30,
    },
    sectionHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        marginBottom: 16,
    },
    sectionTitle: {
        ...FONTS.h3,
        color: COLORS.textHeading,
    },
    mealCard: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: COLORS.surface,
        borderRadius: 24,
        padding: 16,
        marginBottom: 12,
        borderLeftWidth: 4,
        ...SHADOWS.light,
    },
    iconContainer: {
        width: 52,
        height: 52,
        borderRadius: 16,
        justifyContent: 'center',
        alignItems: 'center',
    },
    mealInfo: {
        flex: 1,
        marginLeft: 16,
    },
    mealName: {
        ...FONTS.h4,
        color: COLORS.textHeading,
        marginBottom: 2,
    },
    mealCaloriesActive: {
        ...FONTS.body4,
        fontWeight: '700',
    },
    mealCaloriesEmpty: {
        ...FONTS.body5,
        color: COLORS.textInactive,
    },
    mealActions: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 8,
    },
    addButton: {
        width: 36,
        height: 36,
        borderRadius: 12,
        backgroundColor: COLORS.surfaceHighlight,
        justifyContent: 'center',
        alignItems: 'center',
    },
    waterCard: {
        backgroundColor: COLORS.surface,
        borderRadius: 24,
        padding: 20,
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        ...SHADOWS.light,
    },
    waterInfo: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 16,
    },
    waterIcon: {
        width: 48,
        height: 48,
        borderRadius: 16,
        backgroundColor: COLORS.water + '15',
        justifyContent: 'center',
        alignItems: 'center',
    },
    waterValue: {
        ...FONTS.h3,
        color: COLORS.water,
    },
    waterTarget: {
        ...FONTS.body5,
        color: COLORS.textInactive,
    },
    waterActions: {
        flexDirection: 'row',
        gap: 8,
    },
    waterBtn: {
        padding: 8,
        borderRadius: 12,
        backgroundColor: COLORS.surfaceHighlight,
    },
    modalOverlay: {
        flex: 1,
        backgroundColor: 'rgba(15, 23, 42, 0.6)',
        justifyContent: 'flex-end',
    },
    modalContent: {
        backgroundColor: COLORS.surface,
        borderTopLeftRadius: 32,
        borderTopRightRadius: 32,
        height: '85%',
        padding: SIZES.padding,
    },
    modalHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        marginBottom: 24,
    },
    modalTitle: {
        ...FONTS.h2,
        color: COLORS.textHeading,
    },
    searchContainer: {
        flexDirection: 'row',
        backgroundColor: COLORS.surfaceHighlight,
        borderRadius: 16,
        paddingHorizontal: 16,
        alignItems: 'center',
        height: 56,
        marginBottom: 24,
    },
    searchInput: {
        flex: 1,
        marginLeft: 12,
        ...FONTS.body3,
        color: COLORS.textHeading,
    },
    resultCard: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        paddingVertical: 16,
        borderBottomWidth: 1,
        borderBottomColor: COLORS.border,
    },
    resultInfo: {
        flex: 1,
    },
    resultName: {
        ...FONTS.body3,
        fontWeight: '600',
        color: COLORS.textHeading,
    },
    resultBrand: {
        ...FONTS.body5,
        color: COLORS.textSubtle,
        marginTop: 2,
    },
    resultNutrients: {
        alignItems: 'flex-end',
    },
    resultCalories: {
        ...FONTS.body4,
        fontWeight: '700',
        color: COLORS.primary,
    },
    resultUnit: {
        ...FONTS.body5,
        color: COLORS.textInactive,
    },
    gramStepContent: {
        flex: 1,
        alignItems: 'center',
        paddingTop: 20,
    },
    foodLabel: {
        ...FONTS.h3,
        color: COLORS.textHeading,
        marginBottom: 8,
    },
    brandLabel: {
        ...FONTS.body4,
        color: COLORS.textSubtle,
        marginBottom: 40,
    },
    gramInputContainer: {
        alignItems: 'center',
        marginBottom: 40,
    },
    gramInput: {
        fontSize: 64,
        fontWeight: '800',
        color: COLORS.primary,
        textAlign: 'center',
    },
    gramUnit: {
        ...FONTS.h3,
        color: COLORS.textSubtle,
        marginTop: -8,
    },
    macroPreview: {
        flexDirection: 'row',
        justifyContent: 'space-around',
        width: '100%',
        marginBottom: 'auto',
    },
    confirmBtn: {
        backgroundColor: COLORS.primary,
        width: '100%',
        height: 64,
        borderRadius: 20,
        justifyContent: 'center',
        alignItems: 'center',
        ...SHADOWS.medium,
    },
    confirmBtnText: {
        ...FONTS.h3,
        color: '#FFF',
    },
    emptyState: {
        alignItems: 'center',
        paddingVertical: 40,
    },
    emptyText: {
        ...FONTS.body3,
        color: COLORS.textInactive,
        marginTop: 12,
    },
    waterInput: {
        fontSize: 48,
        fontWeight: '800',
        color: COLORS.water,
        textAlign: 'center',
        marginBottom: 24,
    },
    fabContainer: {
        position: 'absolute',
        bottom: 40,
        right: SIZES.padding,
        alignItems: 'center',
    },
    fab: {
        width: 64,
        height: 64,
        borderRadius: 32,
        backgroundColor: COLORS.primary,
        justifyContent: 'center',
        alignItems: 'center',
        ...SHADOWS.dark,
    },
    fabOptions: {
        position: 'absolute',
        bottom: 80, // FAB'n hemen stnde
        right: 0,
        alignItems: 'flex-end',
        gap: 12,
        paddingBottom: 12,
    },
    fabOption: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 12,
    },
    fabOptionLabel: {
        backgroundColor: COLORS.surface,
        paddingHorizontal: 12,
        paddingVertical: 6,
        borderRadius: 8,
        ...SHADOWS.light,
        color: COLORS.textHeading,
        fontSize: 14,
        fontWeight: '600',
    },
    fabOptionBtn: {
        width: 48,
        height: 48,
        borderRadius: 24,
        backgroundColor: COLORS.surface,
        justifyContent: 'center',
        alignItems: 'center',
        ...SHADOWS.medium,
    },
    aiModalContainer: {
        flex: 1,
        backgroundColor: 'rgba(0,0,0,0.5)',
        justifyContent: 'center',
        padding: 20,
    },
    aiCard: {
        backgroundColor: COLORS.surface,
        borderRadius: 30,
        padding: 24,
        ...SHADOWS.dark,
    },
    aiHeader: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 12,
        marginBottom: 20,
    },
    aiTitle: {
        ...FONTS.h3,
        color: COLORS.primary,
    },
    aiInput: {
        ...FONTS.body3,
        color: COLORS.textHeading,
        height: 120,
        textAlignVertical: 'top',
        backgroundColor: COLORS.surfaceHighlight,
        borderRadius: 20,
        padding: 16,
        marginBottom: 20,
    },
    aiButtonRow: {
        flexDirection: 'row',
        gap: 12,
    },
    aiCancelBtn: {
        flex: 1,
        padding: 16,
        borderRadius: 16,
        alignItems: 'center',
        backgroundColor: COLORS.surfaceHighlight,
    },
    aiSubmitBtn: {
        flex: 2,
        padding: 16,
        borderRadius: 16,
        alignItems: 'center',
        backgroundColor: COLORS.primary,
    },
    aiBtnText: {
        fontWeight: 'bold',
        color: COLORS.textHeading,
    },
    aiSubmitText: {
        fontWeight: 'bold',
        color: '#fff',
    },
    recordingOverlay: {
        flex: 1,
        backgroundColor: 'rgba(16, 185, 129, 0.95)',
        justifyContent: 'center',
        alignItems: 'center',
    },
    micContainer: {
        width: 120,
        height: 120,
        borderRadius: 60,
        backgroundColor: '#fff',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 24,
    },
    recordingText: {
        color: '#fff',
        ...FONTS.h3,
        marginBottom: 8,
    },
    recordingSubtext: {
        color: 'rgba(255,255,255,0.8)',
        ...FONTS.body4,
        marginBottom: 60,
    },
    stopButton: {
        paddingHorizontal: 32,
        paddingVertical: 16,
        borderRadius: 100,
        backgroundColor: 'rgba(255,255,255,0.2)',
    },
    stopButtonText: {
        color: '#fff',
        ...FONTS.h4,
        fontWeight: 'bold',
    },
    trendsOverlay: {
        flex: 1,
        backgroundColor: 'rgba(0,0,0,0.5)',
        justifyContent: 'flex-end',
    },
    trendsContent: {
        borderTopLeftRadius: 30,
        borderTopRightRadius: 30,
        padding: 20,
        height: '85%',
        backgroundColor: COLORS.background,
    },
    trendsHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        marginBottom: 20,
    },
    trendsTitle: {
        fontSize: 22,
        fontFamily: FONTS.bold,
        color: COLORS.textHeading,
    },
    trendsLoading: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
    },
    chartContainer: {
        flexDirection: 'row',
        height: 200,
        marginBottom: 30,
        backgroundColor: COLORS.surfaceHighlight,
        borderRadius: 20,
        padding: 15,
    },
    chartYAxis: {
        justifyContent: 'space-between',
        paddingRight: 10,
        paddingBottom: 25,
    },
    yAxisLabel: {
        fontSize: 10,
        color: COLORS.textSubtle,
        fontFamily: FONTS.medium,
    },
    barsArea: {
        flex: 1,
        flexDirection: 'row',
        alignItems: 'flex-end',
        justifyContent: 'space-between',
        position: 'relative',
    },
    barColumn: {
        alignItems: 'center',
        flex: 1,
    },
    bar: {
        width: 14,
        borderRadius: 7,
        marginBottom: 8,
    },
    barLabel: {
        fontSize: 10,
        color: COLORS.textSubtle,
        fontFamily: FONTS.medium,
    },
    targetLine: {
        position: 'absolute',
        left: 0,
        right: 0,
        height: 1,
        borderStyle: 'dashed',
        borderWidth: 1,
        borderColor: 'rgba(0,0,0,0.1)',
        zIndex: -1,
    },
    weeklyInsightCard: {
        backgroundColor: COLORS.primary + '08',
        borderRadius: 20,
        padding: 20,
        marginBottom: 20,
    },
    weeklyInsightHeader: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 8,
        marginBottom: 10,
    },
    weeklyInsightTitle: {
        fontSize: 16,
        fontFamily: FONTS.bold,
        color: COLORS.textHeading,
    },
    weeklyInsightText: {
        fontSize: 14,
        fontFamily: FONTS.medium,
        color: COLORS.textBody,
        lineHeight: 22,
    },
    waterStatsCard: {
        padding: 20,
        backgroundColor: COLORS.white,
        borderRadius: 20,
        marginBottom: 30,
    },
    cardSmallTitle: {
        fontSize: 15,
        fontFamily: FONTS.bold,
        color: COLORS.textHeading,
        marginBottom: 15,
    },
    waterDotGrid: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    waterDotContainerBase: {
        alignItems: 'center',
    },
    waterDotBase: {
        width: 12,
        height: 12,
        borderRadius: 6,
        marginBottom: 6,
    },
    dotLabelBase: {
        fontSize: 10,
        color: COLORS.textSubtle,
    },
    expandedFoodList: {
        backgroundColor: COLORS.surface + '80',
        marginHorizontal: SIZES.padding / 2,
        borderBottomLeftRadius: SIZES.radius,
        borderBottomRightRadius: SIZES.radius,
        padding: SIZES.base,
        borderWidth: 1,
        borderColor: 'rgba(255,255,255,0.05)',
        marginTop: -SIZES.base,
        zIndex: -1,
    },
    foodItemRow: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'space-between',
        paddingVertical: 8,
        borderBottomWidth: 1,
        borderBottomColor: 'rgba(255,255,255,0.05)',
    },
    foodItemInfo: {
        flex: 1,
        marginRight: 10,
    },
    foodItemName: {
        fontSize: 14,
        color: COLORS.textHeading,
        fontWeight: '500',
    },
    foodItemCal: {
        fontSize: 12,
        color: COLORS.textSubtle,
        marginTop: 2,
    },
    deleteButton: {
        padding: 8,
    },
    tabContainer: {
        flexDirection: 'row',
        marginBottom: SIZES.base * 2,
        backgroundColor: COLORS.surfaceHighlight,
        borderRadius: SIZES.radius / 2,
        padding: 4,
    },
    tab: {
        flex: 1,
        paddingVertical: 8,
        alignItems: 'center',
        borderRadius: SIZES.radius / 2 - 2,
    },
    activeTab: {
        backgroundColor: COLORS.surface,
        ...SHADOWS.light,
    },
    tabText: {
        fontSize: 13,
        fontWeight: '600',
        color: COLORS.textInactive,
    },
    activeTabText: {
        color: COLORS.primary,
    },
    suggestionBody: {
        paddingHorizontal: 5,
        paddingBottom: 10,
    },
    suggestionLoading: {
        alignItems: 'center',
        paddingVertical: 30,
    },
    suggestionLoadingText: {
        marginTop: 15,
        color: COLORS.textSubtle,
        fontSize: 14,
    },
    suggestionCard: {
        backgroundColor: COLORS.primary + '10',
        borderRadius: SIZES.radius,
        padding: 15,
        borderWidth: 1,
        borderColor: COLORS.primary + '20',
        marginBottom: 10,
    },
    suggestionText: {
        fontSize: 15,
        color: COLORS.textHeading,
        lineHeight: 22,
        textAlign: 'left',
        fontStyle: 'italic',
    },
    suggestionAction: {
        backgroundColor: COLORS.primary,
        paddingVertical: 14,
        borderRadius: SIZES.radius,
        alignItems: 'center',
    },
    suggestionActionText: {
        color: '#FFFFFF',
        fontSize: 16,
        fontWeight: '700',
    },
    resultRightSide: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 12,
    },
    favIconBtn: {
        padding: 4,
    },
    barcodeModalContainer: {
        flex: 1,
        backgroundColor: '#000',
    },
    scanner: {
        flex: 1,
    },
    scannerOverlay: {
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        justifyContent: 'center',
        alignItems: 'center',
    },
    unfocusedContainer: {
        flex: 1,
        backgroundColor: 'rgba(0,0,0,0.6)',
        width: '100%',
    },
    focusedRow: {
        flexDirection: 'row',
        height: 200,
    },
    focusedContainer: {
        width: 280,
        height: 200,
        borderWidth: 2,
        borderColor: '#fff',
        backgroundColor: 'transparent',
        borderRadius: 16,
    },
    closeScannerButton: {
        position: 'absolute',
        top: 40,
        right: 20,
        width: 50,
        height: 50,
        borderRadius: 25,
        backgroundColor: 'rgba(0,0,0,0.5)',
        justifyContent: 'center',
        alignItems: 'center',
    },
    scannerInfo: {
        position: 'absolute',
        bottom: 80,
        left: 0,
        right: 0,
        alignItems: 'center',
    },
    scannerInfoText: {
        color: '#fff',
        fontSize: 16,
        fontWeight: 'bold',
        backgroundColor: 'rgba(0,0,0,0.6)',
        paddingHorizontal: 20,
        paddingVertical: 10,
        borderRadius: 20,
    },
    // Missing weekly trends styles
    chartYAxis: {
        justifyContent: 'space-between',
        paddingRight: 10,
        paddingBottom: 25,
    },
    yAxisLabel: {
        fontSize: 10,
        color: COLORS.textSubtle,
        fontFamily: FONTS.medium,
    },
    barsArea: {
        flex: 1,
        flexDirection: 'row',
        alignItems: 'flex-end',
        justifyContent: 'space-between',
        position: 'relative',
    },
    barColumn: {
        alignItems: 'center',
        flex: 1,
    },
    bar: {
        width: 14,
        borderRadius: 7,
        marginBottom: 8,
    },
    barLabel: {
        fontSize: 10,
        color: COLORS.textSubtle,
        fontFamily: FONTS.medium,
    },
    targetLine: {
        position: 'absolute',
        left: 0,
        right: 0,
        height: 1,
        borderStyle: 'dashed',
        borderWidth: 1,
        borderColor: 'rgba(0,0,0,0.1)',
        zIndex: -1,
    },
    insightHeader: {
        flexDirection: 'row',
        alignItems: 'center',
        gap: 8,
        marginBottom: 10,
    },
    insightTitle: {
        fontSize: 16,
        fontWeight: 'bold',
        color: COLORS.textHeading,
    },
    insightText: {
        fontSize: 14,
        color: COLORS.textBody,
        lineHeight: 22,
    },
    waterGrid: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    waterDotContainer: {
        alignItems: 'center',
    },
    waterDot: {
        width: 12,
        height: 12,
        borderRadius: 6,
        marginBottom: 6,
    },
    dotLabel: {
        fontSize: 10,
        color: COLORS.textSubtle,
    }
});

export default getStyles;
